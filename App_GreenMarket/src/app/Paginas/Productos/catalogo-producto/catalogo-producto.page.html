<ion-header [translucent]="true">
  <ion-toolbar color="A " class="colormenus" >
    <ion-buttons slot="start">
      <ion-button [routerLink]="['/proveedor']">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button [routerLink]="['/carrito']">
        <ion-icon name="cart" class="big-icon"></ion-icon>
        <ion-badge color="danger" *ngIf="cartItemCount > 0">{{ cartItemCount }}</ion-badge>
      </ion-button>
    </ion-buttons>
    <ion-title class="titulo">GreenMarket</ion-title> <!-- Clase para centrar el tÃ­tulo -->
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="bigimage">
    <ion-grid>
      <ion-row>
        <ion-col class="centrar">
          <div class="titular" id="productos">
            Lista de productos
          </div>
        </ion-col>

      </ion-row>
      <ion-row class="ion-text-center">
        <ion-col size="12" size-md="6" size-lg="4" *ngFor="let producto of productosFiltrados">
          <div>
            <ion-card class="profile-card">

              <div class="profile-image">
                <!-- <img src="../../../../assets/images/descarga.jpeg" class="profile-image" /> -->
                <img *ngIf="producto.imagen_producto" [src]="'http://localhost:8000' + producto.imagen_producto"  class="profile-image" alt="Foto del proveedor">
                <img *ngIf="!producto.imagen_producto" src="assets/images/descarga.jpeg" class="profile-image" alt="Imagen por defecto" >
              </div>
              <ion-card-content class="profile-stats">

                <div  class="card-title">
                  {{ producto.nombre_producto }}
                </div>

                <div class="boton-verp button-div" (click)="agregarAlCarrito(producto.codigo_producto)">
                  Agregar al carrito
                </div>
                <div class="card-rating" >
                  <img class="rating-value " src="../../../assets/images/JARDENBOT.png" style="width: 60px; height: 60px;" />
                </div>
                <div class="card-section button-div">Detalle del producto
                </div>
              </ion-card-content>
            </ion-card>


          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar color="A " class="colormenus" >
    <ion-buttons slot="start">
      <ion-button (click)="toggleSearchBar()" style="background-color: yellow; border-radius: 50%;">
        <ion-icon name="search-outline" style="color: black;"></ion-icon>
      </ion-button>
      <ion-searchbar *ngIf="showSearchBar" placeholder="Buscar..." (ionInput)="onSearch($event)"
        style="margin: 10px;"></ion-searchbar>
    </ion-buttons>
    <div class="center-button">
      <ion-button [routerLink]="['/chatbot']" style="--padding-start: 0; --padding-end: 0; --border-radius: 50%; width: 40px; height: 40px;">
        <img src="../../../assets/images/JARDENBOT.png" style="width: 40px; height: 40px;" />
      </ion-button>
    </div>
    <ion-buttons slot="end" (click)="navigateToLogin()">
      <ion-button style="background-color: yellow; border-radius: 50%;">
        <ion-icon name="person-outline" style="color: black;"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
